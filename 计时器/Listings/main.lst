C51 COMPILER V9.54   MAIN                                                                  10/03/2025 11:49:26 PAGE 1   


C51 COMPILER V9.54, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: D:\keil\C51\BIN\C51.EXE main.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\main.ls
                    -t) TABS(2) OBJECT(.\Objects\main.obj)

line level    source

   1          #include <reg52.h>
   2          #include "lcd1602.h"
   3          #include "timer.h"
   4          
   5          // 显示时间函数
   6          void Display_Time(void)
   7          {
   8   1          LCD_ShowNum(0, 0, hour);      // 显示小时
   9   1          LCD_WriteData(':');           // 显示冒号
  10   1          LCD_ShowNum(3, 0, minute);    // 显示分钟
  11   1          LCD_WriteData(':');           // 显示冒号
  12   1          LCD_ShowNum(6, 0, second);    // 显示秒
  13   1      }
  14          
  15          // 主函数
  16          void main(void)
  17          {
  18   1          // LCD初始化
  19   1          LCD_Init();
  20   1          
  21   1          // 显示初始标题
  22   1          LCD_ShowStr(0, 1, "Digital Counter");
  23   1          
  24   1          // 显示初始时间 00:00:00
  25   1          Display_Time();
  26   1          
  27   1          // 定时器初始化
  28   1          Timer0_Init();
  29   1          
  30   1          // 启动定时器
  31   1          Timer0_Start();
  32   1          
  33   1          // 主循环
  34   1          while(1)
  35   1          {
  36   2              // 检查时间是否需要更新
  37   2              if(time_update)
  38   2              {
  39   3                  time_update = 0;        // 清除更新标志
  40   3                  Display_Time();         // 更新显示
  41   3              }
  42   2          }
  43   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     71    ----
   CONSTANT SIZE    =     16    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.

C51 COMPILER V9.54   MAIN                                                                  10/03/2025 11:49:26 PAGE 2   


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
